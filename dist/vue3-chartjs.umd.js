var D=Object.defineProperty;var p=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var l=(r,e,a)=>e in r?D(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a,u=(r,e)=>{for(var a in e||(e={}))J.call(e,a)&&l(r,a,e[a]);if(p)for(var a of p(e))P.call(e,a)&&l(r,a,e[a]);return r};(function(r,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e(require("vue"),require("chart.js")):typeof define=="function"&&define.amd?define(["vue","chart.js"],e):(r=typeof globalThis!="undefined"?globalThis:r||self,r.Vue3ChartJs=e(r.Vue,r.Chart))})(this,function(r,e){"use strict";const a=["install","start","stop","beforeInit","afterInit","beforeUpdate","afterUpdate","beforeElementsUpdate","reset","beforeDatasetsUpdate","afterDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","beforeLayout","afterLayout","afterLayout","beforeRender","afterRender","resize","destroy","uninstall","afterTooltipDraw","beforeTooltipDraw"];function h(n,s=null){return{type:n,chartRef:s,preventDefault(){this._defaultPrevented=!0},isDefaultPrevented(){return!this._defaultPrevented},_defaultPrevented:!1}}function c(n,s){return{[s.type]:()=>(n(s.type,s),s.isDefaultPrevented())}}e.registerables!==void 0&&e.Chart.register(...e.registerables);const i=r.defineComponent({name:"Vue3ChartJs",props:{type:{type:String,required:!0},height:{type:Number,required:!1,default:null},width:{type:Number,required:!1,default:null},data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]}},emits:a,setup(n,{emit:s}){const d=r.ref(null),g=a.reduce((o,C)=>{const v=h(C,d);return u(u({},o),c(s,v))},{id:"Vue3ChartJsEventHookPlugin"}),t={chart:null,plugins:[g,...n.plugins],props:u({},n)},y=()=>{t.chart&&(t.chart.destroy(),t.chart=null)},b=(o=750)=>{t.chart.data=u(u({},t.chart.data),t.props.data),t.chart.options=u(u({},t.chart.options),t.props.options),t.chart.update(o)},m=()=>t.chart&&t.chart.resize(),f=()=>t.chart?t.chart.update():t.chart=new e.Chart(d.value.getContext("2d"),{type:t.props.type,data:t.props.data,options:t.props.options,plugins:t.plugins});return r.onMounted(()=>f()),{chartJSState:t,chartRef:d,render:f,resize:m,update:b,destroy:y}},render(n){return r.h("canvas",{ref:"chartRef",height:n.height,width:n.width})}});return i.registerGlobalPlugins=n=>{e.Chart.register(...n)},i.install=(n,s={})=>{var d;n.component(i.name,i),((d=s==null?void 0:s.plugins)==null?void 0:d.length)&&i.registerGlobalPlugins(s.plugins)},i});
