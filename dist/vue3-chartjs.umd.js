(function(r,a){typeof exports=="object"&&typeof module!="undefined"?module.exports=a(require("vue"),require("chart.js")):typeof define=="function"&&define.amd?define(["vue","chart.js"],a):(r=typeof globalThis!="undefined"?globalThis:r||self,r.Vue3ChartJs=a(r.Vue,r.Chart))})(this,function(r,a){"use strict";const d=["install","uninstall","beforeInit","resize","afterInit","start","stop","beforeUpdate","beforeLayout","beforeDataLimits","afterDataLimits","beforeBuildTicks","afterBuildTicks","afterLayout","beforeElementsUpdate","beforeDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","afterDatasetsUpdate","afterUpdate","beforeRender","beforeDraw","beforeDatasetsDraw","beforeDatasetDraw","afterDatasetDraw","afterDatasetsDraw","beforeTooltipDraw","afterTooltipDraw","afterDraw","afterRender","resize","reset","beforeDestroy","afterDestroy","beforeEvent","afterEvent"];function h(s,t){return{type:s,chartRef:t,preventDefault(){this._defaultPrevented=!0},isDefaultPrevented(){return!this._defaultPrevented},_defaultPrevented:!1}}function g(s,t){return{[t.type]:()=>(s(t.type,t),t.isDefaultPrevented())}}const D=["height","width"],n=r.defineComponent({__name:"Vue3ChartJs",props:{type:{},height:{},width:{},data:{},options:{default:{}},plugins:{default:[]}},emits:d,setup(s,{expose:t,emit:f}){var l;a.registerables!==void 0&&a.Chart.register(...a.registerables);const o=s,b=f,u=r.ref(null),m=d.reduce((i,c)=>{const C=h(c,u);return{...i,...g(b,C)}},{id:"Vue3ChartJsEventHookPlugin"}),e={chart:null,plugins:[m,...(l=o.plugins)!=null?l:[]],props:{...o}},y=()=>{e.chart&&(e.chart.destroy(),e.chart=null)},w=(i="default")=>{e.chart&&(e.chart.data={...e.chart.data,...e.props.data},e.chart.options={...e.chart.options,...e.props.options},e.chart.update(i))},v=()=>{e.chart&&e.chart.resize()},p=()=>{if(e.chart)return e.chart.update();e.chart=new a.Chart(u.value.getContext("2d"),{type:e.props.type,data:e.props.data,options:e.props.options,plugins:e.plugins})};return t({chartJSState:e,render:p,destroy:y,update:w,resize:v}),r.onMounted(()=>p()),(i,c)=>(r.openBlock(),r.createElementBlock("canvas",{ref_key:"chartRef",ref:u,height:i.height,width:i.width},null,8,D))}});return n.registerGlobalPlugins=s=>{a.Chart.register(...s)},n.install=(s,t={})=>{var f,o;s.component((f=n.name)!=null?f:"Vue3ChartJs",n),(o=t==null?void 0:t.plugins)!=null&&o.length&&n.registerGlobalPlugins(t.plugins)},n});
