(function(r,a){typeof exports=="object"&&typeof module!="undefined"?module.exports=a(require("vue"),require("chart.js")):typeof define=="function"&&define.amd?define(["vue","chart.js"],a):(r=typeof globalThis!="undefined"?globalThis:r||self,r.Vue3ChartJs=a(r.Vue,r.Chart))})(this,function(r,a){"use strict";const p=["install","uninstall","beforeInit","resize","afterInit","start","stop","beforeUpdate","beforeLayout","beforeDataLimits","afterDataLimits","beforeBuildTicks","afterBuildTicks","afterLayout","beforeElementsUpdate","beforeDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","afterDatasetsUpdate","afterUpdate","beforeRender","beforeDraw","beforeDatasetsDraw","beforeDatasetDraw","afterDatasetDraw","afterDatasetsDraw","beforeTooltipDraw","afterTooltipDraw","afterDraw","afterRender","resize","reset","beforeDestroy","afterDestroy","beforeEvent","afterEvent"];function c(n,t){return{type:n,chartRef:t,preventDefault(){this._defaultPrevented=!0},isDefaultPrevented(){return!this._defaultPrevented},_defaultPrevented:!1}}function h(n,t){return{[t.type]:()=>(n(t.type,t),t._defaultPrevented)}}const g=["height","width"],o=r.defineComponent({__name:"Vue3ChartJs",props:{type:{},height:{},width:{},data:{},options:{},plugins:{}},emits:p,setup(n,{emit:t}){var l;a.registerables!==void 0&&a.Chart.register(...a.registerables);const i=n,u=t,f=r.ref(null),D=p.reduce((s,d)=>{const m=c(d,f);return{...s,...h(u,m)}},{id:"Vue3ChartJsEventHookPlugin"}),e={chart:null,plugins:[D,...(l=i.plugins)!=null?l:[]],props:{...i}},b=()=>{if(console.log(e.chart,{type:e.props.type,data:e.props.data,options:e.props.options,plugins:e.plugins}),e.chart)return e.chart.update();console.log(f.value.getContext("2d")),e.chart=new a.Chart(f.value.getContext("2d"),{type:e.props.type,data:e.props.data,options:e.props.options,plugins:e.plugins}),console.log("chart is after init",e.chart)};return r.onMounted(()=>{b(),setTimeout(()=>{var s;console.log("update"),(s=e.chart)==null||s.update()},1e3)}),(s,d)=>(r.openBlock(),r.createElementBlock("canvas",{ref_key:"chartRef",ref:f,height:s.height,width:s.width},null,8,g))}});return o.registerGlobalPlugins=n=>{a.Chart.register(...n)},o.install=(n,t={})=>{var i,u;n.component((i=o.name)!=null?i:"Vue3ChartJs",o),(u=t==null?void 0:t.plugins)!=null&&u.length&&o.registerGlobalPlugins(t.plugins)},o});
