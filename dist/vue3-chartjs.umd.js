(function(r,a){typeof exports=="object"&&typeof module<"u"?module.exports=a(require("vue"),require("chart.js")):typeof define=="function"&&define.amd?define(["vue","chart.js"],a):(r=typeof globalThis<"u"?globalThis:r||self,r.Vue3ChartJs=a(r.Vue,r.Chart))})(this,function(r,a){"use strict";const u=["install","uninstall","beforeInit","resize","afterInit","start","stop","beforeUpdate","beforeLayout","beforeDataLimits","afterDataLimits","beforeBuildTicks","afterBuildTicks","afterLayout","beforeElementsUpdate","beforeDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","afterDatasetsUpdate","afterUpdate","beforeRender","beforeDraw","beforeDatasetsDraw","beforeDatasetDraw","afterDatasetDraw","afterDatasetsDraw","beforeTooltipDraw","afterTooltipDraw","afterDraw","afterRender","resize","reset","beforeDestroy","afterDestroy","beforeEvent","afterEvent"];function c(s,t){return{type:s,chartRef:t,preventDefault(){this._defaultPrevented=!0},isDefaultPrevented(){return!this._defaultPrevented},_defaultPrevented:!1}}function h(s,t){return{[t.type]:()=>(s(t.type,t),t.isDefaultPrevented())}}const g=["height","width"],n=r.defineComponent({__name:"Vue3ChartJs",props:{type:{},height:{},width:{},data:{},options:{default:()=>({})},plugins:{default:()=>[]}},emits:u,setup(s,{expose:t,emit:o}){a.registerables!==void 0&&a.Chart.register(...a.registerables);const d=s,D=o,f=r.ref(null),e={chart:null,plugins:[u.reduce((i,l)=>{const v=c(l,f);return{...i,...h(D,v)}},{id:"Vue3ChartJsEventHookPlugin"}),...d.plugins??[]],props:{...d}},b=()=>{e.chart&&(e.chart.destroy(),e.chart=null)},m=(i="default")=>{e.chart&&(e.chart.data={...e.chart.data,...e.props.data},e.chart.options={...e.chart.options,...e.props.options},e.chart.update(i))},y=()=>{e.chart&&e.chart.resize()},p=()=>{if(e.chart)return e.chart.update();e.chart=new a.Chart(f.value.getContext("2d"),{type:e.props.type,data:e.props.data,options:e.props.options,plugins:e.plugins})};return t({chartJSState:e,render:p,destroy:b,update:m,resize:y}),r.onMounted(()=>p()),(i,l)=>(r.openBlock(),r.createElementBlock("canvas",{ref_key:"chartRef",ref:f,height:i.height,width:i.width},null,8,g))}});return n.registerGlobalPlugins=s=>{a.Chart.register(...s)},n.install=(s,t={})=>{var o;s.component(n.name??"Vue3ChartJs",n),(o=t==null?void 0:t.plugins)!=null&&o.length&&n.registerGlobalPlugins(t.plugins)},n});
