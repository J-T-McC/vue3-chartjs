var __assign=Object.assign;!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue"),require("chart.js")):"function"==typeof define&&define.amd?define(["vue","chart.js"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).Vue3ChartJs=t(e.Vue,e.Chart)}(this,(function(e,t){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=a(t);const n=["beforeInit","afterInit","beforeUpdate","afterUpdate","beforeLayout","afterLayout","beforeDatasetsUpdate","afterDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","beforeRender","afterRender","beforeDraw","afterDraw","beforeDatasetsDraw","afterDatasetsDraw","beforeDatasetDraw","afterDatasetDraw","beforeEvent","afterEvent","resize","destroy"];const s=e.defineComponent({name:"Vue3ChartJs",props:{type:{type:String,required:!0},data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]}},emits:n,setup(t,{emit:a}){const s=e.ref(null),o={chart:null,plugins:[n.reduce(((e,t)=>{const r=function(e,t=null){return{type:e,chartRef:t,preventDefault(){this._defaultPrevented=!0},isDefaultPrevented(){return!this._defaultPrevented},_defaultPrevented:!1}}(t,s);return __assign(__assign({},e),function(e,t){return{[t.type]:()=>(e(t.type,t),t.isDefaultPrevented())}}(a,r))}),{id:"Vue3ChartJsEventHookPlugin"}),...t.plugins],props:__assign({},t)},u=()=>o.chart?o.chart.update():o.chart=new r.default(s.value.getContext("2d"),{type:o.props.type,data:o.props.data,options:o.props.options,plugins:o.plugins});return e.onMounted((()=>u())),{chartJSState:o,chartRef:s,render:u,resize:()=>o.chart&&o.chart.resize(),update:(e=750)=>{o.chart.data=__assign(__assign({},o.chart.data),o.props.data),o.chart.options=__assign(__assign({},o.chart.options),o.props.options),o.chart.update(e)},destroy:()=>{o.chart&&(o.chart.destroy(),o.chart=null)}}},render:()=>e.h("canvas",{ref:"chartRef"})});return s.install=e=>{e.component(s.name,s)},s}));
