var __defProp=Object.defineProperty,__hasOwnProp=Object.prototype.hasOwnProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__assign=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue"),require("chart.js")):"function"==typeof define&&define.amd?define(["vue","chart.js"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).Vue3ChartJs=t(e.Vue,e.chart_js)}(this,(function(e,t){"use strict";const r=["install","start","stop","beforeInit","afterInit","beforeUpdate","afterUpdate","beforeElementsUpdate","reset","beforeDatasetsUpdate","afterDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","beforeLayout","afterLayout","afterLayout","beforeRender","afterRender","resize","destroy","uninstall","afterTooltipDraw","beforeTooltipDraw"];t.Chart.register(t.ArcElement,t.LineElement,t.BarElement,t.PointElement,t.BarController,t.BubbleController,t.DoughnutController,t.LineController,t.PieController,t.PolarAreaController,t.RadarController,t.ScatterController,t.CategoryScale,t.LinearScale,t.LogarithmicScale,t.RadialLinearScale,t.TimeScale,t.TimeSeriesScale,t.Decimation,t.Filler,t.Legend,t.Title,t.Tooltip);const a=e.defineComponent({name:"Vue3ChartJs",props:{type:{type:String,required:!0},data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]}},emits:r,setup(a,{emit:o}){const n=e.ref(null),s={chart:null,plugins:[r.reduce(((e,t)=>{const r=function(e,t=null){return{type:e,chartRef:t,preventDefault(){this._defaultPrevented=!0},isDefaultPrevented(){return!this._defaultPrevented},_defaultPrevented:!1}}(t,n);return __assign(__assign({},e),function(e,t){return{[t.type]:()=>(e(t.type,t),t.isDefaultPrevented())}}(o,r))}),{id:"Vue3ChartJsEventHookPlugin"}),...a.plugins],props:__assign({},a)},l=()=>s.chart?s.chart.update():s.chart=new t.Chart(n.value.getContext("2d"),{type:s.props.type,data:s.props.data,options:s.props.options,plugins:s.plugins});return e.onMounted((()=>l())),{chartJSState:s,chartRef:n,render:l,resize:()=>s.chart&&s.chart.resize(),update:(e=750)=>{s.chart.data=__assign(__assign({},s.chart.data),s.props.data),s.chart.options=__assign(__assign({},s.chart.options),s.props.options),s.chart.update(e)},destroy:()=>{s.chart&&(s.chart.destroy(),s.chart=null)}}},render:()=>e.h("canvas",{ref:"chartRef"})});return a.install=e=>{e.component(a.name,a)},a}));
