var D=Object.defineProperty;var p=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var f=(r,e,n)=>e in r?D(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,i=(r,e)=>{for(var n in e||(e={}))S.call(e,n)&&f(r,n,e[n]);if(p)for(var n of p(e))v.call(e,n)&&f(r,n,e[n]);return r};(function(r,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e(require("vue"),require("chart.js")):typeof define=="function"&&define.amd?define(["vue","chart.js"],e):(r=typeof globalThis!="undefined"?globalThis:r||self,r.Vue3ChartJs=e(r.Vue,r.Chart))})(this,function(r,e){"use strict";const n=["install","start","stop","beforeInit","afterInit","beforeUpdate","afterUpdate","beforeElementsUpdate","reset","beforeDatasetsUpdate","afterDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","beforeLayout","afterLayout","afterLayout","beforeRender","afterRender","resize","destroy","uninstall","afterTooltipDraw","beforeTooltipDraw"];function c(a,l=null){return{type:a,chartRef:l,preventDefault(){this._defaultPrevented=!0},isDefaultPrevented(){return!this._defaultPrevented},_defaultPrevented:!1}}function g(a,l){return{[l.type]:()=>(a(l.type,l),l.isDefaultPrevented())}}e.Chart.register(e.ArcElement,e.LineElement,e.BarElement,e.PointElement,e.BarController,e.BubbleController,e.DoughnutController,e.LineController,e.PieController,e.PolarAreaController,e.RadarController,e.ScatterController,e.CategoryScale,e.LinearScale,e.LogarithmicScale,e.RadialLinearScale,e.TimeScale,e.TimeSeriesScale,e.Decimation,e.Filler,e.Legend,e.Title,e.Tooltip);const o=r.defineComponent({name:"Vue3ChartJs",props:{type:{type:String,required:!0},height:{type:Number,required:!1,default:null},width:{type:Number,required:!1,default:null},data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]}},emits:n,setup(a,{emit:l}){const u=r.ref(null),h=n.reduce((d,b)=>{const P=c(b,u);return i(i({},d),g(l,P))},{id:"Vue3ChartJsEventHookPlugin"}),t={chart:null,plugins:[h,...a.plugins],props:i({},a)},y=()=>{t.chart&&(t.chart.destroy(),t.chart=null)},m=(d=750)=>{t.chart.data=i(i({},t.chart.data),t.props.data),t.chart.options=i(i({},t.chart.options),t.props.options),t.chart.update(d)},C=()=>t.chart&&t.chart.resize(),s=()=>t.chart?t.chart.update():t.chart=new e.Chart(u.value.getContext("2d"),{type:t.props.type,data:t.props.data,options:t.props.options,plugins:t.plugins});return r.onMounted(()=>s()),{chartJSState:t,chartRef:u,render:s,resize:C,update:m,destroy:y}},render(a){return r.h("canvas",{ref:"chartRef",height:a.height,width:a.width})}});return o.registerGlobalPlugins=a=>{e.Chart.register(...a)},o.install=(a,l={})=>{var u;a.component(o.name,o),((u=l==null?void 0:l.plugins)==null?void 0:u.length)&&o.registerGlobalPlugins(l.plugins)},o});
